<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组件传值 | 陈同学</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="./logo.jpg">
    <meta name="description" content="陈同学测试网页">
    
    <link rel="preload" href="./assets/css/0.styles.84cbb5f4.css" as="style"><link rel="preload" href="./assets/js/app.c864febc.js" as="script"><link rel="preload" href="./assets/js/2.bb5d4e7c.js" as="script"><link rel="preload" href="./assets/js/10.b90cd7e2.js" as="script"><link rel="prefetch" href="./assets/js/3.6b44d436.js"><link rel="prefetch" href="./assets/js/4.f8eac68b.js"><link rel="prefetch" href="./assets/js/5.659830e8.js"><link rel="prefetch" href="./assets/js/6.9ef9913b.js"><link rel="prefetch" href="./assets/js/7.dee059f6.js"><link rel="prefetch" href="./assets/js/8.025aa105.js"><link rel="prefetch" href="./assets/js/9.5cbece26.js">
    <link rel="stylesheet" href="./assets/css/0.styles.84cbb5f4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><img src="./写博客.png" alt="陈同学" class="logo"> <span class="site-name can-hide">陈同学</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/./blog/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/./blog/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/./guide/guide.html" class="nav-link">
  导航
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/./" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/./blog/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/./blog/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/./guide/guide.html" class="nav-link">
  导航
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/./blog/" aria-current="page" class="sidebar-link">组件传值</a></li><li><a href="/./blog/xnj.html" class="sidebar-link">虚拟机学习笔记</a></li><li><a href="/./blog/xx.html" aria-current="page" class="active sidebar-link">学习笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./blog/xx.html#父组件向子组件传值" class="sidebar-link">父组件向子组件传值</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#子组件调用父组件的函数" class="sidebar-link">子组件调用父组件的函数</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#组件引用" class="sidebar-link">组件引用</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#表格可编辑" class="sidebar-link">表格可编辑</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#组件刷新" class="sidebar-link">组件刷新</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#ref" class="sidebar-link">ref</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#数组" class="sidebar-link">数组</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#elementui组件" class="sidebar-link">elementui组件</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#三元表达式" class="sidebar-link">三元表达式</a></li><li class="sidebar-sub-header"><a href="/./blog/xx.html#axios封装" class="sidebar-link">axios封装</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="组件传值"><a href="#组件传值" class="header-anchor">#</a> 组件传值</h1> <h2 id="父组件向子组件传值"><a href="#父组件向子组件传值" class="header-anchor">#</a> 父组件向子组件传值</h2> <h4 id="父组件中"><a href="#父组件中" class="header-anchor">#</a> <strong>父组件中：</strong></h4> <img src="学习笔记.assets/image-20220621162240151-165882492826345.png" alt="image-20220621162240151" style="zoom:50%;"> <h5 id="_1-定义一个变量-可以为-数组-对象-字符串-等"><a href="#_1-定义一个变量-可以为-数组-对象-字符串-等" class="header-anchor">#</a> **1.**定义一个变量，可以为 <strong>数组</strong> <strong>对象</strong> <strong>字符串</strong> 等</h5> <h5 id="_2-引入子组件-如果忘记了点击这-并在子组件中传入以上变量"><a href="#_2-引入子组件-如果忘记了点击这-并在子组件中传入以上变量" class="header-anchor">#</a> **2.**引入子组件（<a href="#%E7%BB%84%E4%BB%B6%E5%BC%95%E7%94%A8">如果忘记了点击这</a>），并在子组件中传入以上变量</h5> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>card-item</span> <span class="token attr-name">:page-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>o<span class="token punctuation">&quot;</span></span> 
           <span class="token attr-name">:mouseIns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mouseIns<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">&lt;!--</span> <span class="token attr-name">是这个哦，现在讲解的</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>
           @showCityName=&quot;updateCity&quot; 
           @Dcollection=&quot;Dcollection&quot; 
           @Scollection=&quot;Scollection&quot; 
           @doNow=&quot;doNow&quot;&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>card-item</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>其中   ：</p> <p>:mouseIns=&quot;mouseIns&quot; 将父组件的mouseIns传递给子组件mouseIns</p> <div class="language- extra-class"><pre class="language-text"><code>:子组件接收的变量名称=&quot;父组件变量名称&quot;
</code></pre></div><h4 id="子组件中"><a href="#子组件中" class="header-anchor">#</a> <strong>子组件中</strong></h4> <h5 id="_3-子组件应用"><a href="#_3-子组件应用" class="header-anchor">#</a> **3.**子组件应用</h5> <p>子组件需要使用父组件传过来的值，那么就需要一个接收的变量，使用 <strong>props</strong> 来定义接收的变量</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">mouseIns</span><span class="token operator">:</span> <span class="token boolean">false</span> 这个就是
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>数组和简写  dats:String 表示传输的是一个字符串类型的数值</p> <p>使用的话可直接使用，就像在自己的页面一样</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mouseIn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>transition-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果是对象或者数组</p> <div class="language-vue extra-class"><pre class="language-vue"><code> props: {
      pageData: {}
}
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-link</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fab(pageData.id)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pageData.status==0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-s-promotion<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>发布<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-link</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-link</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wfab(pageData.id)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pageData.status==1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-s-promotion<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>停用<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;createBy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opeadmin&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;createTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-06-17 16:35:08&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;updateBy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opeadmin&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;updateTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-06-21 12:43:31&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1537715453571649538&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ddb87951f1ba4acea872b1119978aa93&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;categoryId&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;image&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;templateType&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fork&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;isCollection&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">]</span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code>console.log(pageData.id)     =&gt;&gt;&gt;   1537715453571649538
console.log(pageData.status)     =&gt;&gt;&gt;   1
</code></pre></div><h2 id="子组件调用父组件的函数"><a href="#子组件调用父组件的函数" class="header-anchor">#</a> 子组件调用父组件的函数</h2> <h5 id="第一步"><a href="#第一步" class="header-anchor">#</a> 第一步：</h5> <p>在子组件中添加函数，可以使用 <strong>@click</strong> 触发函数</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-link</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fab(pageData.id)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pageData.status==0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-s-promotion<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>发布<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">fab</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// val就是上面点击后触发函数传过来的pageData.id</span>
<span class="token keyword">let</span> data <span class="token operator">=</span><span class="token punctuation">{</span> <span class="token comment">//自定义的对象</span>
	<span class="token literal-property property">status</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//针对这个一个，status是后端接口需要的（改变状态的接口）</span>
	<span class="token literal-property property">id</span><span class="token operator">:</span>val <span class="token comment">// 传输过来的id</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'release'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//通过$emit传值到父组件 </span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>this.$emit(<strong>'父组件中接收数值的函数名称','需要传输的数值'</strong>);</p> <h5 id="第二步"><a href="#第二步" class="header-anchor">#</a> 第二步：</h5> <p>在父组件中添加或者明确要的函数比如updateCity，如果要接收子组件的值就加上参数就行</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">release</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//用以接收子组件传值的函数，与子组件中指定的函数名称要一致</span>
    <span class="token function">release_disable</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">//axios 执行成功后的操作</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// element-ui弹窗</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'success'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span><span class="token string">'发布成功'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">)</span> <span class="token comment">// </span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h5 id="第三步"><a href="#第三步" class="header-anchor">#</a> 第三步：</h5> <p>在子组件引用区域添加@release=&quot;release&quot;</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>card-item</span> <span class="token attr-name">@release</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>release<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>card-item</span><span class="token punctuation">&gt;</span></span> // @子组件函数名=“父组件函数名” 
</code></pre></div><p><a href="https://blog.csdn.net/sllailcp/article/details/78595077" target="_blank" rel="noopener noreferrer">可参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="组件引用"><a href="#组件引用" class="header-anchor">#</a> 组件引用</h2> <p>先写好组件</p> <p>在通过</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> cardItem <span class="token keyword">from</span> <span class="token string">'@/components/mob/card-item'</span> <span class="token comment">//引入组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        cardItem <span class="token comment">//声明使用组件</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用一般按照驼峰命名使用</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>card-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>card-item</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="表格可编辑"><a href="#表格可编辑" class="header-anchor">#</a> 表格可编辑</h2> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>编辑分类<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogVisible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">center</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>privateadd.name<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入需要添加分类的名称<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addprivat()<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-plus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>新增分类<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>privateList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">max-height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>250<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableLoading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ID<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>名称<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.$index==curIndex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row.name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>small<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>{{ scope.row.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>操作<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tooltip</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>curIndex==scope.$index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">effect</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dark<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>保存<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>privateEdit(scope.row)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-check<span class="token punctuation">&quot;</span></span> <span class="token attr-name">circle</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tooltip</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tooltip</span> <span class="token attr-name">v-else</span> <span class="token attr-name">effect</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dark<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>编辑<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>curIndex=scope.$index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-edit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">circle</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tooltip</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tooltip</span> <span class="token attr-name">effect</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dark<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>删除<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-delete<span class="token punctuation">&quot;</span></span> <span class="token attr-name">circle</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tooltip</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogVisible = false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关闭<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- &lt;el-button type=&quot;primary&quot; @click=&quot;confirmDelete()&quot;&gt;确定&lt;/el-button&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scrpt</span><span class="token punctuation">&gt;</span></span>
    data() {
    	return {
    		curIndex: -1,
    	}
    }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scrpt</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-jso extra-class"><pre class="language-text"><code>{
    &quot;name&quot;: &quot;是多少&quot;,
    &quot;region&quot;: &quot;shanghai&quot;,
    &quot;date1&quot;: &quot;2022-06-27T16:00:00.000Z&quot;,
    &quot;date2&quot;: &quot;2022-06-21T07:33:05.000Z&quot;,
    &quot;delivery&quot;: true,
    &quot;type&quot;: [
        &quot;地推活动&quot;
    ],
    &quot;resource&quot;: &quot;线下场地免费&quot;,
    &quot;desc&quot;: &quot;是的&quot;
}
</code></pre></div><h1 id="其他小技巧"><a href="#其他小技巧" class="header-anchor">#</a> 其他小技巧</h1> <h2 id="组件刷新"><a href="#组件刷新" class="header-anchor">#</a> 组件刷新</h2> <p>简单来说就是隐藏后在显示</p> <div class="language-vue extra-class"><pre class="language-vue"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comp</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comp</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reload()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>刷新test1组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> comp <span class="token keyword">from</span> <span class="token string">'@/views/comp.vue'</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'test1'</span><span class="token punctuation">,</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">update</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 移除组件</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>update <span class="token operator">=</span> <span class="token boolean">false</span>
                <span class="token comment">// 在组件移除后，重新渲染组件</span>
                <span class="token comment">// this.$nextTick可实现在DOM 状态更新后，执行传入的方法。</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>update <span class="token operator">=</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="ref"><a href="#ref" class="header-anchor">#</a> ref</h2> <p><a href="https://blog.csdn.net/qq_41929578/article/details/122671455" target="_blank" rel="noopener noreferrer">可以调用子组件的data和方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h2> <h3 id="组成新数组"><a href="#组成新数组" class="header-anchor">#</a> 组成新数组</h3> <h4 id="map"><a href="#map" class="header-anchor">#</a> map</h4> <p>使用map可以将一个对象组成一个新的数组，可以自定义需要的字段比如，某个需要id和name两个字段</p> <div class="language-json extra-class"><pre class="language-json"><code>privateListdata：<span class="token punctuation">{</span>

id<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>

name<span class="token operator">:</span><span class="token string">&quot;&quot;</span>

<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code>let a =<span class="token punctuation">{</span>

    <span class="token property">&quot;createBy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span>

    <span class="token property">&quot;createTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-06-22 17:36:41&quot;</span><span class="token punctuation">,</span>

    <span class="token property">&quot;updateBy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span>

    <span class="token property">&quot;updateTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-06-22 17:36:41&quot;</span><span class="token punctuation">,</span>

    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1539542879935139842&quot;</span><span class="token punctuation">,</span>

    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test01&quot;</span><span class="token punctuation">,</span>

    <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1536910548602818562&quot;</span>

<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>privateListdata <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span>item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token literal-property property">id</span><span class="token operator">:</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="concat合并数组"><a href="#concat合并数组" class="header-anchor">#</a> concat合并数组</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;George&quot;</span>
arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;John&quot;</span>
arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Thomas&quot;</span>

<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
arr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;James&quot;</span>
arr2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Adrew&quot;</span>
arr2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Martin&quot;</span>

<span class="token keyword">var</span> arr3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
arr3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;William&quot;</span>
arr3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Franklin&quot;</span>

arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">,</span>arr3<span class="token punctuation">)</span>

输出：
George<span class="token punctuation">,</span>John<span class="token punctuation">,</span>Thomas<span class="token punctuation">,</span>James<span class="token punctuation">,</span>Adrew<span class="token punctuation">,</span>Martin<span class="token punctuation">,</span>William<span class="token punctuation">,</span>Franklin
</code></pre></div><h2 id="elementui组件"><a href="#elementui组件" class="header-anchor">#</a> elementui组件</h2> <h3 id="复选框checkbox-全选功能"><a href="#复选框checkbox-全选功能" class="header-anchor">#</a> 复选框checkbox 全选功能</h3> <p>如果使用的数据源是对象，那么全选是不能使用的，因为全选的原理是将选项的值赋值给选择的数组，是一个数组，那么需要的是</p> <p><strong>：value</strong> 的值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> all <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>privateListdata<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>id   <span class="token comment">//不明白为什么是id</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>privateList_choose <span class="token operator">=</span> val <span class="token operator">?</span> all <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
    <span class="token comment">//  这个是个if判断  相当于if(this.privateList_choose = val){</span>
    <span class="token comment">//     this.privateList_choose=all</span>
    <span class="token comment">// }</span>
    <span class="token comment">// else</span>
    <span class="token comment">//     {</span>
    <span class="token comment">//         this.privateList_choose=[]</span>
    <span class="token comment">//     }</span>
</code></pre></div><h3 id="选择器select"><a href="#选择器select" class="header-anchor">#</a> 选择器select</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>选择分类<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ClassifyDialog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30%<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    请选择归为的分类：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span>
                        <span class="token attr-name">clearable</span>
                        <span class="token attr-name">filterable</span>
                        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请选择分类<span class="token punctuation">&quot;</span></span>
                        <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token property">padding-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span>
                        <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>medium<span class="token punctuation">&quot;</span></span>
                        <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classify in privateListdata<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classify.id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classify.name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classify.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ClassifyDialog = false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>取 消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ClassifyDialogSure(pageData.id,form),ClassifyDialog = false,reload()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确 定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>v-model=&quot;form&quot;</strong> 是数据绑定，是一个字符串，可以作为一个对象使用</p> <p><strong>form: {},</strong></p> <p>这里还是一般用字符串</p> <p><strong>form: ‘’,</strong></p> <p>因为多选框我想要的是显示name输出id且要和点进去的id匹配</p> <p>a:</p> <div class="language-json extra-class"><pre class="language-json"><code>a<span class="token operator">:</span>
<span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1539542879935139842&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test01&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
 <span class="token punctuation">{</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1539542922071117825&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test02&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
 <span class="token punctuation">{</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1539546291246469121&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text03&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1539546871352266753&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text04&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span>

b<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;pagesType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1539542879935139842&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>

</code></pre></div><p>需要将a中的<strong>id</strong>和b中的 <strong>pagesType</strong> 匹配输出a中的<strong>id</strong>这就需要将匹配到的name赋值给form</p> <div class="language-java extra-class"><pre class="language-java"><code>let a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageData
    let id <span class="token operator">=</span> a<span class="token punctuation">.</span>pagesType
    <span class="token keyword">if</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        let b <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>privateListdata
            let ssform <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">&gt;</span>item<span class="token punctuation">.</span>id<span class="token operator">==</span><span class="token operator">=</span>id<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>form <span class="token operator">=</span> ssform<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
</code></pre></div><p>这里加了一个if判断，主要原因是如果pagestype为空那么就会报错，为空在本次业务中属于 <strong>未分类</strong> 所以为空，先将a、b分别赋值，最后使用filter过滤器，判断b里面的id是否等于a里面的id（因为a里面只有一个pagesType，所以写为id），最后将第0项赋值给form这样选择器就可以显示当前的选项或者分类</p> <h2 id="三元表达式"><a href="#三元表达式" class="header-anchor">#</a> 三元表达式</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>detail<span class="token punctuation">.</span>bizType<span class="token operator">==</span><span class="token string">'01'</span><span class="token operator">?</span><span class="token string">'手机号码'</span> <span class="token operator">:</span> detail<span class="token punctuation">.</span>bizType<span class="token operator">==</span><span class="token string">'02'</span><span class="token operator">?</span><span class="token string">'集团产品虚拟号码'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>判断是否等于<strong>01</strong> 如果 <strong>是</strong> 显示 <strong>‘手机号码’</strong>  不是 则判断是否等于 <strong>02</strong>  如果 <strong>是</strong>  输出 <strong>'集团产品虚拟号码'</strong>  否则为空  后面的 <strong>''</strong> 必须写不然会报错</p> <h1 id="代码备份"><a href="#代码备份" class="header-anchor">#</a> 代码备份</h1> <h2 id="axios封装"><a href="#axios封装" class="header-anchor">#</a> axios封装</h2> <p>在 <strong>utils</strong> 下创建 <strong>request.js</strong> 文件写入代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token comment">// axios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8';</span>
<span class="token comment">// axios.defaults.headers['Platform'] = 'web'</span>
<span class="token comment">// 创建axios实例</span>
<span class="token keyword">const</span> service <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// axios中请求配置有baseURL选项，表示请求URL公共部分</span>
    <span class="token literal-property property">baseURL</span> <span class="token operator">:</span> <span class="token string">'http://localhost:9090'</span><span class="token punctuation">,</span>
    <span class="token comment">// 超时</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 请求拦截器</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 让每个请求携带自定义token 请根据实际情况自行修改</span>
        <span class="token comment">// config.headers['Authorization'] = token</span>
        <span class="token keyword">return</span> config<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'err：'</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// 响应拦截器</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> response<span class="token punctuation">;</span>
        <span class="token comment">// 未设置状态码则默认成功状态</span>
        <span class="token comment">// const code = response.data.code || 200;</span>
        <span class="token comment">// // 获取错误信息</span>
        <span class="token comment">// const errorCode = {</span>
        <span class="token comment">//     '401': '认证失败，无法访问系统资源',</span>
        <span class="token comment">//     '403': '当前操作没有权限',</span>
        <span class="token comment">//     '404': '访问资源不存在',</span>
        <span class="token comment">//     'default': '系统未知错误,请反馈给管理员'</span>
        <span class="token comment">// };</span>
        <span class="token comment">// const msg = errorCode[code] || response.data.msg || errorCode['default'];</span>
        <span class="token comment">// if (code === 500) {</span>
        <span class="token comment">//     return Promise.reject(new Error(msg))</span>
        <span class="token comment">// } else if (code !== 200) {</span>
        <span class="token comment">//     return Promise.reject('error')</span>
        <span class="token comment">// }else{</span>
        <span class="token comment">//     return response.data</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'错误：'</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token operator">=</span> error<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>message <span class="token operator">==</span> <span class="token string">&quot;Network Error&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message <span class="token operator">=</span> <span class="token string">&quot;后端接口连接异常&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;timeout&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message <span class="token operator">=</span> <span class="token string">&quot;系统接口请求超时&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;Request failed with status code&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message <span class="token operator">=</span> <span class="token string">&quot;系统接口&quot;</span> <span class="token operator">+</span> message<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;异常&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> service<span class="token punctuation">;</span>
</code></pre></div><p>在单独封装各个页面的接口写入以下代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span> <span class="token comment">// 引入封装的request.js文件</span>
<span class="token comment">// 暴露出我们的接口请求,export导出</span>
<span class="token comment">// 登录接口</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">quera</span><span class="token punctuation">(</span><span class="token parameter">query</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/user/page'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> query
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在使用的页面通过import引入</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>quera<span class="token punctuation">}</span> from <span class="token string">&quot;@/api/home&quot;</span>
</code></pre></div><p>根据需要使用（传入的参数等）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">quera</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">pageNum</span><span class="token operator">:</span> page<span class="token punctuation">.</span>pageNum<span class="token punctuation">,</span><span class="token literal-property property">pageSize</span><span class="token operator">:</span>page<span class="token punctuation">.</span>pageSize<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span>total <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>total
    <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>records
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/./blog/xnj.html" class="prev">
        虚拟机学习笔记
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.c864febc.js" defer></script><script src="./assets/js/2.bb5d4e7c.js" defer></script><script src="./assets/js/10.b90cd7e2.js" defer></script>
  </body>
</html>
